---
title: 'Asegura tu web de ataques'
date: '游딉勇뀹eptiembre 07, 2020'
tags: '游 Seguridad,游눹Informatica'
fecha: '2021-09-07'
descripcion: 'Con los ataques inform치ticos, asegura tu web de ataques maliciosos con las mejores pr치cticas'
---

Para muchas empresas, 2020 fue todo un cambio de trabajo remoto en los sistemas empresariales basados en la nube, y los equipos de seguridad de las aplicaciones tuvieron que adaptarse a un cambio de uso y a un n칰mero creciente de desaf칤os.

Las vulnerabilidades de las aplicaciones web fueron la causa del 43% de las violaciones de datos en 2019, seg칰n The 2020 Verizon Data Breach Investigations Report. Sorprendentemente, el 79% de las organizaciones empujaron intencionalmente c칩digo vulnerable a la producci칩n, al mismo tiempo que consideraban que su propia postura de seguridad de aplicaciones era superior a 7 de 10, seg칰n la investigaci칩n de Enterprise Strategy Group.

Dado que el coste medio de las filtraciones de datos es de 3,86 millones de d칩lares, la seguridad de las aplicaciones no es algo que las empresas puedan ignorar. Las cifras van en aumento: un 12% en los 칰ltimos cinco a침os.

En comparaci칩n con otros activos inform치ticos, las aplicaciones web son especialmente vulnerables a los ataques, porque est치n expuestas a Internet. Muchos vectores de ataque contra las aplicaciones web se centran en la manipulaci칩n de las entradas de los usuarios a trav칠s de los formularios web, y de las entradas de las m치quinas a trav칠s de las API. En este art칤culo, hablaremos de las vulnerabilidades de las aplicaciones web y de las mejores pr치cticas para protegerlas contra ataques maliciosos y da침os accidentales.

Vulnerabilidades de las aplicaciones web
Las vulnerabilidades de las aplicaciones web son puntos d칠biles de seguridad que permiten a los actores de la amenaza manipular el c칩digo fuente, obtener acceso no autorizado, robar datos o interferir de otro modo en el funcionamiento normal de la aplicaci칩n.

El documento OWASP Top 10 enumera los riesgos de seguridad m치s cr칤ticos para las aplicaciones web. Repasemos algunos de los vectores de ataque m치s conocidos:

Inyecci칩n SQL: se produce cuando los atacantes utilizan c칩digo SQL malicioso para manipular las bases de datos del backend. El resultado puede incluir el listado de datos no autorizado, la ca칤da (eliminaci칩n) de tablas y el acceso administrativo no autorizado.

Cross-Site Scripting (XSS)-un ataque dirigido a los usuarios de una aplicaci칩n. Puede utilizarse para acceder a cuentas de usuario, inyectar troyanos o cambiar el contenido de la p치gina para enga침ar a los usuarios o desfigurar un sitio web. Otra variante m치s peligrosa es el XSS almacenado, cuando el c칩digo malicioso se inyecta de forma persistente en la aplicaci칩n. El XSS reflejado es cuando los scripts maliciosos se reflejan desde la aplicaci칩n al navegador del usuario.

Inclusi칩n remota de archivos (RFI): inyecci칩n remota de archivos en el servidor de una aplicaci칩n web. Esto puede llevar a la ejecuci칩n de scripts y c칩digo malicioso en las aplicaciones, a comprometer el servidor web y al robo de datos.

Cross-Site Request Forgery (CSRF): un ataque que puede provocar transferencias de fondos no deseadas, cambios de contrase침a o robo de datos. Implica que un atacante aproveche la sesi칩n abierta de un usuario, haciendo que el navegador del usuario realice acciones sin saberlo en un sitio en el que el usuario ha iniciado la sesi칩n.

La desinfecci칩n de las entradas y salidas de la aplicaci칩n, por ejemplo con la libreria Dompurify, y la adopci칩n de pr치cticas de codificaci칩n seguras pueden proteger las aplicaciones contra la mayor칤a de las vulnerabilidades. Sin embargo, esto no es suficiente. Las aplicaciones web est치n en constante desarrollo, y las pruebas de seguridad deben incorporarse en cada etapa del ciclo de vida del desarrollo, para identificar y corregir el c칩digo vulnerable desde el principio.

Adem치s, la mayor칤a de las aplicaciones web utilizan componentes de c칩digo abierto de terceros, que pueden ser a su vez vulnerables, y deben ser escaneados de forma continua. T칠cnicas y herramientas de seguridad de las aplicaciones web

La t칠cnica de seguridad m치s poderosa en el desarrollo web es pensar en la seguridad en todos los detalles, incluso los m치s peque침os. La seguridad de las aplicaciones web no s칩lo se refiere a la base de c칩digo, sino tambi칠n a los procesos del proyecto, el almacenamiento de datos, las pol칤ticas de la empresa, etc. Al final, no importa lo bueno y protegido que sea tu c칩digo, si tienes la documentaci칩n de tu API a disposici칩n del p칰blico, o la contrase침a de s칰per administrador escrita en una pizarra en la oficina. Sergey Ivanov, jefe de control de calidad en MobiDev.

As칤 que, en primer lugar, la seguridad en las aplicaciones proviene de la seguridad en el propio proyecto. Pero cuando todos los procesos son perfectos, 쯤u칠 es lo siguiente?

Para obtener informaci칩n sobre la seguridad de las aplicaciones web, en general, hay dos enfoques principales. Se trata de las pruebas de seguridad est치ticas y din치micas. No se excluyen el uno al otro, sino que deber칤an complementarse.

A continuaci칩n, le presentamos algunas tecnolog칤as que puede utilizar para proteger sus aplicaciones web contra las vulnerabilidades, as칤 como para responder a los ataques si se producen.

## SAST
Las soluciones de pruebas est치ticas de seguridad de aplicaciones (SAST) analizan el c칩digo fuente en busca de vulnerabilidades y riesgos de seguridad. Muchas aplicaciones web integran el escaneo de c칩digo en m칰ltiples etapas de desarrollo, principalmente cuando se compromete el nuevo c칩digo a la base de c칩digo, y durante una construcci칩n.

El SAST suele estar basado en reglas y los resultados del escaneo suelen incluir falsos positivos, por lo que tendr치 que analizar y filtrar cuidadosamente los resultados para identificar los verdaderos problemas de seguridad. Nosotros utilizamos la herramienta de an치lisis est치tico SonarQube para supervisar los problemas de seguridad que puedan introducirse durante el desarrollo. Se recomienda integrarla con el pipeline CI/CD para que analice cada commit/merge commit. SonarQube tiene una buena representaci칩n visual y comprueba no s칩lo los aspectos de seguridad, sino tambi칠n la mantenibilidad y la fiabilidad del c칩digo base. Soporta m치s de 20 lenguajes de programaci칩n diferentes, por lo que funciona para la mayor칤a de los frameworks de frontend y backend.

## DAST
Las pruebas din치micas de seguridad de las aplicaciones (DAST) consisten en probar el c칩digo desplegado o en ejecuci칩n para encontrar vulnerabilidades. Se puede realizar tanto de forma manual como autom치tica, utilizando herramientas especiales.

Las pruebas manuales giran en torno al trabajo con la API de la aplicaci칩n con herramientas como Burp Suite, Fiddler, Postman. Las herramientas DAST de automatizaci칩n env칤an un gran n칰mero de peticiones al c칩digo de la aplicaci칩n, incluyendo entradas inesperadas y maliciosas, en busca de vulnerabilidades. Analiza los resultados e identifica las debilidades de seguridad.

Despu칠s de un an치lisis de seguridad manual y concienzudo, utilizamos OwaspZap, un esc치ner de seguridad de aplicaciones web de c칩digo abierto, para acelerar las pruebas de regresi칩n. Los esc치neres no pueden reemplazar a los humanos en t칠rminos de creatividad, an치lisis de la causa ra칤z, o la capacidad de pensar fuera de la caja, pero pueden manejar las tareas de rutina a un ritmo y volumen mucho m치s r치pido.

## Pruebas de penetraci칩n
Las pruebas de penetraci칩n son una t칠cnica de seguridad que combina herramientas de escaneo din치micas con expertos en seguridad humanos para encontrar lagunas en la postura de seguridad de una aplicaci칩n web. Los pentesters act칰an como verdaderos actores de amenazas, explotando vulnerabilidades, obteniendo acceso no autorizado, robando datos e interrumpiendo servicios. Sin embargo, lo hacen bajo contrato con el propietario de la aplicaci칩n web, bajo un alcance acordado, y sin causar un da침o real a la organizaci칩n. En comparaci칩n con SAST y DAST, esta t칠cnica es m치s compleja de llevar a cabo, pero puede identificar riesgos adicionales que las herramientas automatizadas pueden pasar por alto.

## XDR
Las soluciones de detecci칩n y respuesta ampliadas (XDR) son una nueva generaci칩n de plataformas de seguridad que ofrecen a los equipos de seguridad una interfaz que les permite detectar y responder a las amenazas dondequiera que existan en el entorno de TI.

XDR recopila datos de seguridad de todas las capas de la pila de seguridad, incluidas las aplicaciones web, las redes, las nubes privadas y p칰blicas y los puntos finales. Aplica an치lisis avanzados y automatizaci칩n para analizar, clasificar y detectar tanto las amenazas conocidas como las desconocidas. Lo m치s importante es que se integra directamente con las herramientas de seguridad y puede responder autom치ticamente a las amenazas en tiempo real.

Mejores pr치cticas de seguridad de las aplicaciones web en 2021
A continuaci칩n se presentan algunas de las mejores pr치cticas que puede utilizar para mejorar la seguridad de sus aplicaciones web.

## Autenticaci칩n y control de acceso Aunque parezca obvio, muchas aplicaciones web no implementan medidas b치sicas de control de acceso. Aseg칰rese de seguir estos principios:

Aplique contrase침as seguras: utilice una recuperaci칩n de contrase침as segura, establezca pol칤ticas sensatas de caducidad y rotaci칩n de contrase침as y, preferiblemente, utilice la autenticaci칩n multifactorial.

Forzar la reautenticaci칩n cuando se acceda a funciones sensibles o se realicen transacciones.

Utilizar el principio de m칤nimo privilegio (POLP), y dar a cada usuario s칩lo los privilegios que necesita para desempe침ar su funci칩n en el sistema.

Utilice SSL y encriptaci칩n y aseg칰rese de que las contrase침as y credenciales est칠n siempre encriptadas, tanto en reposo como en tr치nsito.

Supervise las cuentas de usuario y bloquee a los usuarios o solicite un cambio de contrase침a si detecta actividad sospechosa.

Para las empresas, que adem치s deben proporcionar seguridad de los datos y un estricto cumplimiento legal de leyes como GDPR o HIPAA, se necesita una soluci칩n avanzada.

Evite las malas configuraciones de seguridad
Cualquiera que sea el CMS o el marco de desarrollo web que est칠 utilizando, hay muchas posibilidades de desconfiguraci칩n. Est칠 atento a los siguientes problemas:

Establezca siempre contrase침as de administrador seguras y cambie los nombres de usuario por defecto.

Proteja los archivos y directorios con configuraci칩n o contenido sensible.

No deje puertos abiertos si no necesita que est칠n abiertos innecesariamente

Actualice regularmente a la 칰ltima versi칩n estable todas las librer칤as de software, plugins y el propio framework.

Analice regularmente todos sus paquetes en busca de vulnerabilidades de seguridad.

Est칠 atento a las vulnerabilidades de seguridad y a las actualizaciones que afectan a su software e infraestructura.

Utilice protocolos de comunicaci칩n y de red seguros.

Aseg칰rese de que los certificados digitales est칠n actualizados.

Utilizamos Local PHP Security Checker despu칠s de cada actualizaci칩n del compositor de PHP. Nos ayuda a evitar el uso de bibliotecas con vulnerabilidades conocidas. Normalmente, las actualizaciones regulares a la 칰ltima versi칩n estable resuelven muchos problemas de seguridad.

El uso de librer칤as y componentes de c칩digo abierto en el desarrollo de software es casi omnipresente, ya que alrededor del 99% de las aplicaciones tienen al menos un componente de c칩digo abierto, seg칰n el Informe de an치lisis de riesgos y seguridad de c칩digo abierto de 2020.

Algunas industrias, como el comercio minorista, la sanidad y la educaci칩n, experimentaron un crecimiento exponencial de los ingresos durante el a침o 2020, en gran parte debido a los cambios en el comportamiento de los consumidores y la interacci칩n social durante el COVID. Como estas industrias utilizaron m치s c칩digo abierto en sus aplicaciones, tuvieron el mayor n칰mero de vulnerabilidades y vulnerabilidades de alto riesgo. Determinar qu칠 componentes de c칩digo abierto son seguros deber칤a ser una preocupaci칩n primordial para cualquier grupo de seguridad de aplicaciones.

## Gesti칩n de excepciones
Las excepciones son un aspecto de la seguridad de las aplicaciones web que se suele pasar por alto. Es com칰n ver excepciones o errores mostrando largas trazas de pila al usuario-esta informaci칩n es extremadamente valiosa para los atacantes. Nunca debe mostrar nada al usuario que no sea un mensaje de error que explique qu칠 ha ido mal y qu칠 puede hacer para resolverlo.

Aseg칰rate de planificar tu aplicaci칩n web para los escenarios "felices" y "no felices" de cada operaci칩n del usuario. Anticipe todos los errores posibles y man칠jelos con excepciones significativas. Esto evitar치 que los atacantes exploten los casos l칤mite para causar un comportamiento inesperado.

## Gestionar cuidadosamente los contenedores
Muchas aplicaciones web se ejecutan en contenedores, utilizando Docker. Los contenedores pueden crear importantes problemas de seguridad si no se gestionan correctamente. Tenga en cuenta las siguientes directrices de seguridad:

Im치genes de confianza-cuando cree un contenedor, utilice siempre im치genes base de confianza, y analice las im치genes en busca de vulnerabilidades (incluso sus propias im치genes) antes de utilizarlas.

Utiliza secretos-es una muy mala pr치ctica guardar credenciales u otra informaci칩n sensible directamente en una imagen de contenedor porque estar치 disponible abiertamente en cualquier contenedor creado a partir de esa imagen. En su lugar, utilice el mecanismo de secretos de Docker o Kubernetes para almacenar la informaci칩n sensible.

No conceda nunca acceso a la ra칤z: un contenedor que tenga acceso a la ra칤z en un sistema tambi칠n conceder치 acceso a la ra칤z a un atacante, en caso de que el contenedor se vea comprometido. Defina siempre un usuario en sus im치genes y evite utilizar opciones como "contenedor privilegiado" en Kubernetes.

Segmentaci칩n de la red: aseg칰rese de que los contenedores s칩lo puedan acceder a otros sistemas si realmente lo necesitan. Ejecute los contenedores en una subred protegida y evite exponerlos a Internet a menos que sea absolutamente necesario.

El servicio Amazon Elastic Container Registry (ECR) proporciona escaneos de seguridad para las im치genes Docker. Es una caracter칤stica bastante 칰til para entender qu칠 problemas potenciales de seguridad tiene en sus im치genes Docker privadas.

## Garant칤a de calidad y pruebas
Las pruebas de seguridad son esenciales para la seguridad de las aplicaciones web. Siga estas pr치cticas recomendadas:

Utilice el escaneo est치tico y din치mico: analice su c칩digo fuente en busca de vulnerabilidades durante el desarrollo utilizando las pruebas de seguridad de aplicaciones est치ticas (SAST) y en producci칩n utilizando las pruebas de seguridad de aplicaciones din치micas (DAST).

Utilice pruebas de penetraci칩n: puede utilizar soluciones ligeras de pruebas de penetraci칩n como servicio (PTaaS) o, en el caso de aplicaciones a gran escala, una prueba de penetraci칩n peri칩dica a gran escala realizada por un hacker 칠tico certificado.

Adopte CI/CD: cada vez que actualice su aplicaci칩n, ejecute su c칩digo a trav칠s de un proceso de prueba automatizado y despli칠guelo autom치ticamente, para asegurarse de que no introduce riesgos de seguridad debido a problemas de instalaci칩n.

Tenga en cuenta el cumplimiento de la normativa: la mayor칤a de las organizaciones del mundo est치n sujetas a la normativa GDPR de la Uni칩n Europea. Las aplicaciones que procesan datos de tarjetas de cr칠dito est치n sujetas a la norma PCI/DSS. Compruebe si existen normas o reglamentos de cumplimiento adicionales que afecten a su aplicaci칩n y aplique las medidas necesarias.

En la mayor칤a de los casos, nuestro proceso habitual de despliegue en CI/CD incluye los siguientes 5 pasos:

Escanear el c칩digo fuente en busca de violaciones de estilo de c칩digo
Analizar las librer칤as de terceros utilizadas en busca de problemas de seguridad
Ejecutar pruebas unitarias
Preparar el nuevo c칩digo fuente para el despliegue.
Crear y desplegar nuevas im치genes Docker en un entorno seleccionado. Todas las credenciales sensibles necesarias para ejecutar su aplicaci칩n web se guardan en el almacenamiento seguro del CI/CD.
El despliegue se detendr치 si alguno de estos pasos falla. Esto garantiza actualizaciones estables y un entorno estable y seguro.